---
export interface Props {
  title?: string;
}

const { title = "dago / portfolio" } = Astro.props;

// Load NDA list content (editable at src/content/nda/nda.md)
import { getEntry } from 'astro:content';
const ndaEntry = await getEntry('nda', 'nda');
const NDAContent = ndaEntry ? (await ndaEntry.render()).Content : null;
const ndaTitle = (ndaEntry && ndaEntry.data && ndaEntry.data.title) ? ndaEntry.data.title : '→ O štai čia kiti projektai, kurių negaliu įvardinti dėl NDA ←';
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/dago-icon.png" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    
    <!-- SEO -->
    <meta name="description" content="Rodau ką esu sukūręs: Danieliaus IT darbų portfolio. (Tik techniniai darbai ir tik vartotojų naudojami projektai; be AI generuotų demo ir kitos kūrybos, vadybos.)" />
    <meta name="author" content="Dago" />
    
    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content="Rodau ką esu sukūręs: Danieliaus IT darbų portfolio. (Tik techniniai darbai ir tik vartotojų naudojami projektai; be AI generuotų demo ir kitos kūrybos, vadybos.)" />
    <!-- <meta property="og:image" content="/og-image.jpg" /> -->
  </head>
  
  <body>
    <main class="space-y-4">
      <slot />
    </main>

    {/* NDA list section: content comes from src/content/nda/nda.md */}
    {NDAContent && (
      <aside class="mt-12">
        <details>
          <summary><h2>{ndaTitle}</h2></summary>
          <main>
            <NDAContent />
          </main>
        </details>
      </aside>
    )}

    <footer class="mt-12">
      <a href="https://notbyai.fyi" target="_blank" rel="noopener">
        <img 
          src="/notbyai.png" 
          srcset="/notbyai.png 1x, /notbyai@2x.png 2x"
          alt="Not by AI"
          width="132"
          height="43"
          />
      </a>
    </footer>
  </body>
</html>